<html>

<head>
</head>
<style>
    html,
    body {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
    }
    
    .container {
        display: flex;
        padding: 8px;
        flex-direction: column;
        justify-content: center;
    }
    
    #summaryTable {
        width: 100%;
        text-align: center;
    }
    
    .headerRow {
        background-color: #66ccee;
        font-weight: bold;
    }
    
    .totalRow {
        background-color: #d3d3d3;
        font-weight: bold;
    }
    
    .pass {
        background-color: #92dd96;
    }
    
    .fail {
        background-color: #f2928c;
    }
    
    .total {
        background-color: #d3d3d3;
    }
    
    .skipped {
        background-color: #88aaff;
    }
</style>

<body>
    <div class="container">
        <div>
            <table id="summaryTable" border="1">
                <thead>
                    <tr class="headerRow">
                        <th rowspan="2">Feature Files</th>
                        <th colspan="3">Scenario</th>
                        <th colspan="3">Examples</th>
                        <th colspan="4">Steps</th>
                        <th colspan="2">Duration</th>
                    </tr>
                    <tr>
                        <th class="pass">Pass</th>
                        <th class="fail">Fail</th>
                        <th class="total">Total Scenario</th>
                        <th class="pass">Pass</th>
                        <th class="fail">Fail</th>
                        <th class="total">Total Example</th>
                        <th class="pass">Pass</th>
                        <th class="fail">Fail</th>
                        <th class="skipped">Skipped</th>
                        <th class="total">Total Steps</th>
                        <th>Time</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Feature rows -->
                </tbody>
            </table>
        </div>
    </div>

</body>

<script>
    var reportData = '#reportData';
    var data = JSON.parse(reportData);

    function createTable() {
        console.log(data);
        var tableBody = document.getElementById('summaryTable').getElementsByTagName('tbody')[0];

        for (var i = 0; i < data.features.length; i++) {
            var featureData = data.features[i];
            var row = tableBody.insertRow();
            var cell1 = row.insertCell();
            cell1.innerHTML = featureData.FeatureFileName;
            var cell2 = row.insertCell();
            cell2.innerHTML = featureData.TotalScenarioPass;
            cell2.classList.add("pass");
            var cell3 = row.insertCell();
            cell3.innerHTML = featureData.TotalScenarioFail;
            cell3.classList.add("fail");
            var cell4 = row.insertCell();
            cell4.innerHTML = featureData.TotalScenarioCount;
            cell4.classList.add("total");
            var cell5 = row.insertCell();
            cell5.classList.add("pass");
            cell5.innerHTML = featureData.ExamplePass;
            var cell6 = row.insertCell();
            cell6.innerHTML = featureData.ExampleFail;
            cell6.classList.add("fail");
            var cell7 = row.insertCell();
            cell7.innerHTML = featureData.TotalExCount;
            cell7.classList.add("total");
            var cell8 = row.insertCell();
            cell8.innerHTML = featureData.TotalStepsPass;
            cell8.classList.add("pass");
            var cell9 = row.insertCell();
            cell9.innerHTML = featureData.TotalStepFail;
            cell9.classList.add("fail");
            var cell10 = row.insertCell();
            cell10.innerHTML = featureData.TotalStepSkipped;
            cell10.classList.add("skipped");
            var cell11 = row.insertCell();
            cell11.innerHTML = featureData.TotalStepCount;
            cell11.classList.add("total");
            var cell12 = row.insertCell();
            cell12.innerHTML = featureData.duration + ' Hrs';
            var cell13 = row.insertCell();
            cell13.innerHTML = featureData.Status;
            if (featureData.Status == "Passed") {
                cell13.classList.add("pass");
            } else {
                cell13.classList.add("fail");
            }
        }

        var row = tableBody.insertRow();
        row.classList.add('totalRow');
        var cell1 = row.insertCell();
        cell1.innerHTML = 'Total';
        var cell2 = row.insertCell();
        cell2.innerHTML = data.TotalScenarioPassCount;
        cell2.classList.add("pass");
        var cell3 = row.insertCell();
        cell3.innerHTML = data.TotalScenarioFailedCount;
        cell3.classList.add("fail");
        var cell4 = row.insertCell();
        cell4.innerHTML = data.TotalPassFailScenarioCount;
        cell4.classList.add("total");
        var cell5 = row.insertCell();
        cell5.classList.add("pass");
        cell5.innerHTML = data.TotalExPassCount;
        var cell6 = row.insertCell();
        cell6.innerHTML = data.TotalExFailCount;
        cell6.classList.add("fail");
        var cell7 = row.insertCell();
        cell7.innerHTML = data.TotalExPassFailCount;
        cell7.classList.add("total");
        var cell8 = row.insertCell();
        cell8.innerHTML = data.TotalStepsPassCount;
        cell8.classList.add("pass");
        var cell9 = row.insertCell();
        cell9.innerHTML = data.TotalStepsFailedCount;
        cell9.classList.add("fail");
        var cell10 = row.insertCell();
        cell10.innerHTML = data.TotalStepsSkippedCount;
        cell10.classList.add("skipped");
        var cell11 = row.insertCell();
        cell11.innerHTML = data.TotalStepsPassFailCount;
        cell11.classList.add("total");
        row.insertCell();
        row.insertCell();

        var row = tableBody.insertRow();
        row.classList.add('totalRow');
        var cell1 = row.insertCell();
        cell1.innerHTML = 'Percentage';
        var cell2 = row.insertCell();
        cell2.innerHTML = data.ScenarioPassPercentage + "%";
        cell2.classList.add("pass");
        var cell3 = row.insertCell();
        cell3.innerHTML = data.ScenarioFailedPercentage + "%";
        cell3.classList.add("fail");
        row.insertCell();
        var cell5 = row.insertCell();
        cell5.innerHTML = data.ExamplePassPercentage + "%";
        cell5.classList.add("pass");
        var cell6 = row.insertCell();
        cell6.innerHTML = data.ExampleFailPercentage + "%";
        cell6.classList.add("fail");
        row.insertCell();
        var cell8 = row.insertCell();
        cell8.innerHTML = data.StepsPassedPercentage + "%";
        cell8.classList.add("pass");
        var cell9 = row.insertCell();
        cell9.innerHTML = data.StepsFailedPercentage + "%";
        cell9.classList.add("fail");
        var cell10 = row.insertCell();
        cell10.innerHTML = data.StepsSkippedPercentage + "%";
        cell10.classList.add("skipped");
        row.insertCell();
        row.insertCell();
        row.insertCell();

    }

    window.addEventListener('load', createTable);
</script>

</html>